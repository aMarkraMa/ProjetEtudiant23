<?xml version="1.0" encoding="utf-8" ?><!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"		"http://mybatis.org/dtd/mybatis-3-mapper.dtd" ><mapper namespace="com.projet.mapper.NoteMapper">	<resultMap id="noteResultMap" type="Note">		<result property="noteRapport" column="note_rapport"/>		<result property="noteSoutenance" column="note_soutenance"/>				<association property="projet" javaType="projet">			<id property="idProjet" column="id_projet"/>			<result property="nomMatiere" column="nom_matiere"/>			<result property="sujet" column="sujet"/>			<result property="datePrevueRemise" column="date_prevue_remise"/>			<result property="pourcentageSoutenance" column="pourcentage_soutenance"/>		</association>				<association property="etudiant" javaType="etudiant">			<id column="id_etudiant" property="idEtudiant"/>			<result column="nom_etudiant" property="nomEtudiant"/>			<result column="prenom_etudiant" property="prenomEtudiant"/>		</association>	</resultMap>				<delete id="deleteNote">		DELETE		FROM appartenir		WHERE id_etudiant = #{idEtudiant}		  AND id_binome = #{idBinome}		  AND id_projet = #{idProjet}	</delete>		<update id="updateNote">		UPDATE appartenir		<set>			<if test="noteRapport != null">note_rapport= #{noteRapport},</if>			<if test="noteSoutenance != null">note_soutenance= #{noteSoutenance},</if>		</set>		WHERE id_etudiant = #{idEtudiant}		AND id_binome = #{idBinome}		AND id_projet = #{idProjet}	</update>			<select id="getNotesByIdProjet" resultMap="noteResultMap" resultType="com.projet.entity.Note">		SELECT e.nom_etudiant, e.prenom_etudiant, p.nom_matiere, p.sujet, b.note_rapport, ns.note_soutenance		FROM etudiants e,		     appartenir a,		     binomes b,		     projets p,		     notes_soutenance ns		WHERE e.id_etudiant = a.id_etudiant AND a.id_projet = b.id_projet AND a.id_binome = b.id_binome AND b.id_projet = p.id_projet AND p.id_projet = ns.id_projet AND e.id_etudiant = ns.id_etudiant		AND p.id_projet = #{idProjet}		AND e.id_etudiant = #{idEtudiant}	</select>		<select id="selectByCondition" resultType="com.projet.entity.Note">		select *		from appartenir a,		binomes b,		projets p,		etudiants e		<where>			n.id_projet = b.id_projet			and n.id_binome = b.id_binome			and e.id_etudiant = n.id_etudiant			<if test="etudiant != null and etudiant.nomEtudiant != null and etudiant.nomEtudiant != ''">				and lower(e.nom_etudiant) like lower(#{etudiant.nomEtudiant})			</if>			<if test="etudiant != null and etudiant.prenomEtudiant != null and etudiant.prenomEtudiant != ''">				and lower(e.prenom_etudiant) like lower(#{etudiant.prenomEtudiant})			</if>			<if test="projet != null and projet.nomMatiere != null and projet.nomMatiere != ''">				and lower(p.nom_matiere) like lower(#{binome.projet.nomMatiere})			</if>			<if test="projet != null and projet.sujet != null and projet.sujet != ''">				and lower(p.sujet) like lower(#{binome.projet.sujet})			</if>		</where>		</select></mapper>